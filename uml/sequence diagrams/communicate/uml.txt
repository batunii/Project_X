@startuml

actor UserA
actor UserB

participant "Controller/Input Manager" as CIM
participant "HUD Manager" as HUD
participant "Collab/Comm Manager" as CCM
participant "Network Manager" as NM
participant "Event Logger" as EL

== Proximity Voice Chat Flow ==
UserA -> CCM: Connects to local voice chat (initial volume=0)
UserA -> NM: Moves closer to UserB
NM -> CCM: Updates distance, adjusts UserA's voice volume for UserB
UserA -> CIM: Speaks (voice input)
CIM -> CCM: Forwards voice data (distance-based volume)
CCM -> NM: Broadcasts voice to UserB
UserA -> NM: Leaves UserB's range (volume decreases)
CCM -> EL: Log proximity/volume event
EL -> EL : Log Mute Action

== Public ChatBox Flow (Text) ==
UserA -> HUD: Opens HUD
HUD -> CCM: Selects public chat
CCM -> NM: Get history
NM -> CCM: Returns messages
CCM -> HUD: Shows history
UserA -> CIM: Types message, clicks send
CIM -> CCM: Forwards message
CCM -> NM: Broadcasts to users
CCM -> EL: Log message event
EL -> EL: Log Mute Action

== Private ChatBox Flow (Text) ==
UserA -> HUD: Selects UserB for private chat
UserA -> CIM: Points at UserB, selects chat option
CIM -> CCM: Initiate private chat
CCM -> NM: Opens private chat channel
NM -> UserB: Delivers private chat message


@enduml
